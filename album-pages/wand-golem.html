<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Blank Waves | Share and listen to new releases">
  <meta name="author" content="Anthony Ramella">

  <title>WAND / Golem | Blank Waves</title>

  <!-- Bootstrap Core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link href="/css/main-styles.css" rel="stylesheet">

  <!-- Fonts CSS -->
  <link href='http://fonts.googleapis.com/css?family=Cousine' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Francois+One' rel='stylesheet' type='text/css'>

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
<div class="body-container">
  <!-- Navigation -->
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/index.html">blank_waves</a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li>
            <a href="#">new releases</a>
          </li>
          <li>
            <a href="#">mixes</a>
          </li>
          <li>
            <a href="#">weekly picks</a>
          </li>
          <li>
            <a href="#">tracks</a>
          </li>
        </ul>
      </div><!-- end navbar-collapse -->
  </nav>

  <!-- Page Content -->

  <div class="container album-feature">

    <div class="row">

      <div class="col-lg-4 col-med-4 col-sm-5">
        <img class="img-responsive" src="/img/wand-golem.jpg">
        <div class="col-lg-12 col-med-12 col-sm-12 release-info-header">
          <p>Artist: Wand</p>
          <p>Album: Golem</p>
          <p>Label: In the Red</p>
          <p>Released: March 17, 2015</p><hr>
          <a href="https://midheaven.com/item/golem-by-wand-cd">Purchase Vinyl/CD/MP3</a><br>
          <a href="https://itunes.apple.com/us/album/golem/id960117825">Purchase on iTunes</a>
        </div>
      </div>

      <div class="col-lg-8 col-med-8 col-sm-7">

        <!-- Nav tabs container -->
        <div class="tabs-container">

          <!-- Nav tabs -->
          <ul class="nav nav-tabs" role="tablist">
            <li class="active">
              <a href="#listen" role="tab" data-toggle="tab">
                Listen
              </a>
            </li>
            <li>
              <a href="#video" role="tab" data-toggle="tab">
                Watch
              </a>
            <li>
              <a href="#discuss" role="tab" data-toggle="tab">
                Discuss
              </a>
            </li>
            </li>
            <li>
              <a href="#review" role="tab" data-toggle="tab">
                Reviews
              </a>
            </li>
          </ul><!-- end nav tabs -->

          <!-- Tab panes -->
          <div class="tab-content">
            <!-- Listen content -->
            <div class="tab-pane fade active in" id="listen">
              <h2></h2>
              <div class="row">
                <div class="col-lg-6 col-md-12 col-sm-12">
                  <!-- Spotify / Soundcloud player embed // Default size for album: 350x450 -->
                  <iframe src="https://embed.spotify.com/?uri=spotify:album:5ZTqzCCjEF5pwSnr6o7Jga" frameborder="0" allowtransparency="true" width="350" height="430"></iframe>
                </div>
                <div class="col-lg-6 col-md-12 col-sm-12">
                  <!-- Get Spotify URL for artist follow widget -->
                  <iframe src="https://embed.spotify.com/follow/1/?uri=spotify:artist:53by9P3tpXOW1diWCI6MNu&size=detail&theme=light" width="300" height="56" scrolling="no" frameborder="0" style="border:none; overflow:hidden;" allowtransparency="true"></iframe>
                </div>
              </div>
            </div><!--end listen pane content-->

          <!-- Video content -->
          <div class="tab-pane fade" id="video">
            <h2>Video</h2>
            <div class="youtube-container">
              <div class="youtube-player" data-id="SzVEWmi_27U"></div>
                <div class="description">
                <p>WAND - Flying Golem (Music Video)</p>
                </div>
            </div>
          </div><!--end buy pane content -->

          <!-- Discuss Content -->
          <div class="tab-pane fade" id="discuss">
            <div id="disqus_thread"></div>
            <script type="text/javascript">
              /* * * CONFIGURATION VARIABLES * * */
              var disqus_shortname = 'blankwaves';

              /* * * DON'T EDIT BELOW THIS LINE * * */
              (function() {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
          </div><!--end discuss content-->

          <!-- Reviews content -->
          <div class="tab-pane fade" id="review">
            <h2>Reviews</h2>
              <div id="results"> </div>

          </div><!--end reviews pane content -->

        </div><!--end tabs content-->
      </div><!--end nav tabs container -->
    </div><!--end page columns -->

    </div><!--end row-->
  </div><!--end "album feature" container -->
</div>

</div><!-- end container -->
<footer>
  <div class="navbar navbar-bottom">
  &copy;2015 Anthony Ramella
</div>
</footer>
  <!-- jQuery -->
  <script src="/js/jquery.js"></script>

  <!-- Bootstrap Core JavaScript -->
  <script src="/js/bootstrap.min.js"></script>

  <script src="/js/youtube-embed.js"></script>

  <!-- Echonest API Script -->
  <script type="text/javascript">

  var apiKey = 'NHU6TJIHQ2CCKXVOY ';
  jQuery.ajaxSettings.traditional = true;

  function fetchReviews(artist) {
      var url = 'http://developer.echonest.com/api/v4/artist/reviews';

      $("#results").hide();
      var args = {
              format:'json',
              api_key: 'NHU6TJIHQ2CCKXVOY',
              name: "Wand",
              results: 15,
      };

      info("Fetching reviews for " + artist);
      $.getJSON(url, args,
              function(data) {
                  console.log(data);
                  $("#results").empty();
                  if (! ('reviews' in data.response)) {
                      error("Can't find any reviews for " + artist);
                  } else {
                      $("#results").show();
                      var titles = {}
                      $.each(data.response.reviews, function(index, item) {
                          if (! (item.name in titles)) {
                              var div = format(item);
                              if (div) {
                                  $("#results").append(div);
                              }
                              titles[item.name] = 1;
                          }
                      });
                      info("Showing " + data.response.reviews.length + " of " + data.response.total + " reviews for " + artist);
                  }
              },
              function() {
                  error("Trouble getting reviews for " + artist);
              }
          );
  }

  var blackList = ['www.crawdaddy.com'];

  function format(item) {
      var div = $("<div class='well clearfix'>");
      var source = getSource(item.url);

      if (blackList.indexOf(source) != -1) {
          return null;
      }

      div.append($("<h3>").html(item.name));

      if (item.image_url) {
          div.append($("<img style='float:left;margin-right:10px;max-width:150px'>").attr('src', item.image_url));
      }

      var date = null;
      if ('date_posted' in item) {
          date = item.date_posted;
      } else if ('date_found' in item) {
          date = item.date_found;
      }
      if (date) {
          date = "<i>" + date.substring(0,10) + '</i> ';
      }

      div.append($("<p>").html(date + item.summary + " ..." ));
      var link = $("<a>");
      link.attr('href', item.url);
      link.text("full review on " + source);
      div.append(link);
      return div;
  }

  function getSource(url) {
  	var path = url.split('/');
  	return path[2]	;
  }

  function info(s) {
      $("#info").removeClass();
      if (s.length > 0) {
          $("#info").addClass("alert alert-info");
      }
      $("#info").text(s);
  }

  function error(s) {
      $("#info").removeClass();
      if (s.length > 0) {
          $("#info").addClass("alert alert-error");
      }
      $("#info").text(s);
  }



  $(document).ready(function() {
      // fetchApiKey will fetch the Echo Nest demo key for demos
      // hosted on The Echo Nest, otherwise it fetch an empty key
      fetchReviews();
  });

  </script>
</body>

</html>